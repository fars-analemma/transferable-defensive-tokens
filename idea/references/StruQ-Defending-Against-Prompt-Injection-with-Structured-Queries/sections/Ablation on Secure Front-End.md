Ablation on Secure Front-End
StruQ uses special delimiters that use reserved tokens to separate instructions, inputs and responses. As we show below, this is important to the performance of our scheme. We measure the utility and security of schemes that use different kinds of delimiters, either standard textual delimiters or our special delimiters using reserved tokens. The default Alpaca training set uses "### delim :" as its delimiters, where delim can be "instruction", "input" or "response". StruQ replaces these standard Alpaca textual delimiters with special delimiters that cannot be created by user: • "[MARK]" replaces "###", "[COLN]" replaces ":" • "[INST]", "[INPT]", or "[RESP]" replace "instruction", "input", or "response" We try replacing only some of the Alpaca textual delimiters with the special delimiters, instead of replacing all of them. We use the structured instruction tuning from Section 4.4 (naive and completion data augmentations) in all experiments, and apply the front-end's filter as described in Section 4.3. Table 6 reports the utility and the highest attack success rate of any Completion-Real and Completion-Close attacks. Appendix B provides the results of individual attacks. With a strong filter to prevent two consecutive hash marks in user data (so that "### instruction:" becomes "# instruction:"), different choice of special delimiter combinations all yield a secure system. Using special delimiters (i.e., reserved tokens) for all aspects of the delimiter achieves strong security without loss of utility. Besides giving us a secure system, using all special delimiters also produces an LLM that is more secure empirically. This may help prevent future unseen attacks, which is also one of the value of using special reserved tokens for the delimiters, as we propose in StruQ.

[TABLE START]Table 6 : The utility and security (measured by the attack success rate of the strongest Completion-Real and Completion-Close attack) of our system after fine-tuning with different combinations of standard textual and special delimiters. Experiments are performed on Llama 7B, using structured instruction tuning. The attacks we tested and detailed breakdowns are in Table9. <table><row><cell>Combinations</cell><cell cols="2">Utility (↑) Security (↓)</cell></row><row><cell>textual hash marks textual words, textual colon</cell><cell>66.0%</cell><cell>1%</cell></row><row><cell>textual hash marks special words, textual colon</cell><cell>62.6%</cell><cell>1%</cell></row><row><cell>special hash marks textual words, textual colon</cell><cell>60.2%</cell><cell>1%</cell></row><row><cell>special hash marks special words, textual colon</cell><cell>64.0%</cell><cell>1%</cell></row><row><cell>special hash marks special words, special colon</cell><cell>67.6%</cell><cell>1%</cell></row></table>[TABLE END]
